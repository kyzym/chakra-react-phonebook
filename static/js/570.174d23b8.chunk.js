"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[570],{6570:function(n,e,t){t.r(e),t.d(e,{default:function(){return B}});var r,a,s,i,o,c,d,l,u,p,x,h,m=t(5048),f=t(5065),b=function(n){return n.filter.filterValue},g=t(6444),j=t(407),Z=(0,g.ZP)("div")(j.Cg,j.$_,j.GQ,j.AF,j.bK,j.Dh,j.cp,j.eC),v=t(9439),w=t(9126),y=t(6856),C=t(168),P=g.ZP.li(r||(r=(0,C.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  /* justify-content: space-between; */\n"]))),k=g.ZP.button(a||(a=(0,C.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  margin: 0;\n  border: none;\n  border-radius: 4px;\n  background-color: transparent;\n  cursor: pointer;\n  color: #f44336;\n\n  &:hover {\n    background-color: #e2e5e8;\n  }\n  &:active {\n    background-color: #bdbdbd;\n  }\n  &:disabled {\n    color: black;\n  }\n"]))),z=g.ZP.p(s||(s=(0,C.Z)(["\n  margin-left: 10%;\n  width: 45%;\n  font-size: 18px;\n  font-weight: 500;\n"]))),A=g.ZP.p(i||(i=(0,C.Z)(["\n  margin-right: auto;\n  font-size: 18px;\n  font-weight: 500;\n"]))),L=t(5218),D=t(184),F=function(n){var e=n.contact,t=e.name,r=e.phone,a=e.id,s=(0,f.useDeleteContactMutation)(),i=(0,v.Z)(s,2),o=i[0],c=i[1],d=c.isLoading,l=c.isSuccess,u=d||l;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(w.me1,{size:20}),(0,D.jsx)(z,{children:t}),(0,D.jsx)(A,{children:r}),(0,D.jsx)(k,{onClick:function(){o(a).then(L.Am.success("OK, we've removed -  ".concat(t," ")))},disabled:u,children:(0,D.jsx)(y.FU5,{size:24})})]})},Q=function(){var n=(0,m.v9)(b),e=(0,f.useGetContactsQuery)(),t=e.data,r=void 0===t?[]:t,a=e.isLoading,s=n.toLowerCase().trim(),i=r.filter((function(n){return n.name.toLowerCase().includes(s)}));return(0,D.jsxs)(Z,{as:"ul",width:"430px",children:[i.map((function(n){return(0,D.jsx)(P,{children:(0,D.jsx)(F,{contact:n})},n.id)})),!a&&(0,D.jsx)(H,{visibleContacts:i.length,savedContactsNumber:r.length})]})},_=t(6530),G=t(3628),N=g.ZP.label(o||(o=(0,C.Z)(["\n  display: flex;\n  gap: 6px;\n  justify-content: space-between;\n  align-items: baseline;\n  font-weight: 500;\n"]))),q=(0,g.ZP)(G.DebounceInput)(c||(c=(0,C.Z)(["\n  border-radius: 4px;\n  width: 250px;\n  height: 20px;\n"]))),E=function(){var n=(0,m.I0)();return(0,D.jsxs)(N,{children:["Find contacts by name:",(0,D.jsx)(q,{type:"text",name:"filter",placeholder:"Enter name",debounceTimeout:300,onChange:function(e){var t=e.target.value;n((0,_.gQ)(t))}})]})},I=g.ZP.h1(d||(d=(0,C.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  margin-bottom: 10px;\n"]))),O=g.ZP.h2(l||(l=(0,C.Z)(["\n  display: flex;\n  align-items: flex-end;\n  gap: 6px;\n  margin-bottom: 10px;\n"]))),S=g.ZP.form(u||(u=(0,C.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  width: 335px;\n  margin-bottom: 20px;\n"]))),K=g.ZP.label(p||(p=(0,C.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  font-weight: 500;\n"]))),M=g.ZP.input(x||(x=(0,C.Z)(["\n  border-radius: 4px;\n  width: 250px;\n  height: 20px;\n"]))),T=g.ZP.button(h||(h=(0,C.Z)(["\n  font-size: 16px;\n  font-weight: 500;\n  text-transform: capitalize;\n  padding: 8px;\n  border-radius: 20px;\n  border: none;\n  cursor: pointer;\n\n  &:hover,\n  focus {\n    outline: 1.5px solid black;\n  }\n  &:active {\n    background-color: #cdcdcd;\n  }\n"]))),$=function(){var n=(0,f.useGetContactsQuery)().data,e=(0,f.useAddContactMutation)(),t=(0,v.Z)(e,2),r=t[0],a=t[1].isLoading;return(0,D.jsxs)(S,{onSubmit:function(e){e.preventDefault();var t=e.target,a=t.elements.name.value,s=t.elements.number.value;if(n.some((function(n){return n.name.toLowerCase()===a.toLowerCase()})))return t.reset(),(0,L.ZP)("Can't add already existing contact",{icon:"\ud83d\ude2d"});r({name:a,phone:s}),L.ZP.success("Superrr!!! Contact added"),t.reset()},children:[(0,D.jsxs)(K,{children:["Name:",(0,D.jsx)(M,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Only letters, apostrophe, dash and spaces.",required:!0,placeholder:"Enter name"})]}),(0,D.jsxs)(K,{children:["Number:",(0,D.jsx)(M,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"Enter number"})]}),(0,D.jsx)(T,{type:"submit",disabled:a,children:"add contact"})]})},H=function(n){var e=n.visibleContacts,t=n.savedContactsNumber;return(0,D.jsx)(Z,{textAlign:"center",children:t!==e?(0,D.jsxs)("span",{children:["Found contacts: ",(0,D.jsx)("b",{children:e})]}):(0,D.jsxs)("span",{children:["Total number of contacts: ",(0,D.jsx)("b",{children:t})]})})},R=t(5065).useGetContactsQuery,U=function(){var n=R(),e=n.error;return n.isLoading&&!e&&(0,D.jsx)("b",{children:"Request in progress..."})},V=t(3728);function B(){return(0,D.jsxs)(Z,{display:"flex",flexDirection:"column",alignItems:"center",mt:10,px:10,children:[(0,D.jsxs)(I,{children:["Phonebook",(0,D.jsx)(V.efA,{})]}),(0,D.jsx)($,{}),(0,D.jsxs)(O,{children:["Contacts",(0,D.jsx)(V.fOH,{})]}),(0,D.jsx)(E,{}),(0,D.jsx)(U,{}),(0,D.jsx)(Q,{})]})}}}]);
//# sourceMappingURL=570.174d23b8.chunk.js.map